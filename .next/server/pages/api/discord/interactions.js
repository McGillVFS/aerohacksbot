"use strict";(()=>{var a={};a.id=691,a.ids=[691],a.modules={2205:(a,b,c)=>{c.d(b,{S:()=>v,z:()=>w});let d={interests:{"Drones / UAVs":"Interest: Drones / UAVs","Aerospace Systems":"Interest: Aerospace Systems",Robotics:"Interest: Robotics","Embedded Systems":"Interest: Embedded Systems","Hardware Hacking":"Interest: Hardware Hacking","AI / Machine Learning":"Interest: AI / Machine Learning","Computer Vision":"Interest: Computer Vision","Data Science":"Interest: Data Science",Sustainability:"Interest: Sustainability","Healthcare / MedTech":"Interest: Healthcare / MedTech","Defense / Security":"Interest: Defense / Security","Entrepreneurship / Startups":"Interest: Entrepreneurship / Startups",Other:"Interest: Other"},fields_of_study:{"Aerospace Engineering":"Field: Aerospace Engineering","Mechanical Engineering":"Field: Mechanical Engineering","Electrical Engineering":"Field: Electrical Engineering","Computer Engineering":"Field: Computer Engineering","Software Engineering":"Field: Software Engineering","Computer Science":"Field: Computer Science",Physics:"Field: Physics",Mathematics:"Field: Mathematics","Biology / Life Sciences":"Field: Biology / Life Sciences","Business / Management":"Field: Business / Management",Economics:"Field: Economics",Other:"Field: Other"},level_of_study:{"Less than Secondary / High School":"Level: Pre-Secondary","Secondary / High School":"Level: Secondary / High School","Undergraduate University (2 year - community college or similar)":"Level: Undergraduate (2 year)","Undergraduate University (3+ year)":"Level: Undergraduate (3+ year)","Graduate University (Masters, Professional, Doctoral, etc)":"Level: Graduate","Code School / Bootcamp":"Level: Code School / Bootcamp","Other Vocational / Trade Program or Apprenticeship":"Level: Vocational / Trade","Post Doctorate":"Level: Post Doctorate","I‚Äôm not currently a student":"Level: Not Currently a Student","Prefer not to answer":"Level: Prefer Not to Answer",Other:"Level: Other"},school:{"McGill University":"School: McGill University","Concordia University":"School: Concordia University","Universit\xe9 de Montr\xe9al":"School: Universit\xe9 de Montr\xe9al","Polytechnique Montr\xe9al":"School: Polytechnique Montr\xe9al","HEC Montr\xe9al":"School: HEC Montr\xe9al",UQAM:"School: UQAM",√âTS:"School: \xc9TS","Dawson College":"School: Dawson College","John Abbott College":"School: John Abbott College","Marianopolis College":"School: Marianopolis College","Vanier College":"School: Vanier College","Champlain College (St-Lambert)":"School: Champlain College (St-Lambert)","C\xe9gep du Vieux Montr\xe9al":"School: C\xe9gep du Vieux Montr\xe9al","C\xe9gep de Maisonneuve":"School: C\xe9gep de Maisonneuve","C\xe9gep Andr\xe9-Laurendeau":"School: C\xe9gep Andr\xe9-Laurendeau","C\xe9gep Ahuntsic":"School: C\xe9gep Ahuntsic","C\xe9gep Rosemont":"School: C\xe9gep Rosemont","Coll\xe8ge de Bois-de-Boulogne":"School: Coll\xe8ge de Bois-de-Boulogne","Universit\xe9 Laval":"School: Universit\xe9 Laval","Universit\xe9 de Sherbrooke":"School: Universit\xe9 de Sherbrooke","Bishop‚Äôs University":"School: Bishop‚Äôs University",UQTR:"School: UQTR",UQO:"School: UQO"},team_mode:{free_agent:"Free Agent"}},e="https://discord.com/api/v10",f=Number(process.env.DISCORD_API_TIMEOUT_MS??"7000"),g=Number(process.env.MAX_ROLE_OPERATIONS??"24"),h="0"!==process.env.VERIFY_TIMING_LOGS,i=process.env.DISCORD_BOT_USER_ID,j=process.env.DISCORD_TOKEN??process.env.DISCORD_BOT_TOKEN,k=null;function l(a,b,c){if(!h)return;let d=c?` ${c}`:"";console.info(`[verify-timing] ${a}: ${b.toFixed(1)}ms${d}`)}async function m(a,b){let c=new AbortController,d=setTimeout(()=>c.abort(),f);try{return await fetch(a,{...b,signal:c.signal})}finally{clearTimeout(d)}}async function n(a,b){if(!j)throw Error("Missing required env var: DISCORD_TOKEN (or DISCORD_BOT_TOKEN)");let c=await m(`${e}${a}`,{...b,headers:{Authorization:`Bot ${j}`,"Content-Type":"application/json",...b?.headers??{}}});if(!c.ok){let d=await c.text();throw Error(`Discord API ${b?.method??"GET"} ${a} failed (${c.status}): ${d}`)}if(204!==c.status)return await c.json()}async function o(){if(i)return i;if(k)return k;let a=await n("/users/@me");return k=a.id,a.id}async function p(a){return n(`/guilds/${a}/roles`)}async function q(a,b){return n(`/guilds/${a}/members/${b}`)}async function r(a,b){return n(`/guilds/${a}/roles`,{method:"POST",body:JSON.stringify({name:b,permissions:"0",hoist:!1,mentionable:!1})})}async function s(a,b,c){await n(`/guilds/${a}/members/${b}/roles/${c}`,{method:"PUT"})}function t(a){return a.replace(/\s+/g," ").trim().slice(0,100)}function u(a,b,c){return d[a][b]??`${c}: ${b}`}async function v(a){let b=performance.now(),c=function(a){let b=new Set;for(let c of a.fields_of_study??[]){let a=t(c);a&&b.add(t(u("fields_of_study",a,"Field")))}for(let c of a.interests??[]){let a=t(c);a&&b.add(t(u("interests",a,"Interest")))}if(a.level_of_study){let c=t(a.level_of_study);c&&b.add(t(u("level_of_study",c,"Level")))}let c="Other"===a.school?t(a.school_other??""):t(a.school??"");if(c&&b.add(t(u("school",c,"School"))),"free_agent"===a.team_mode&&b.add(d.team_mode.free_agent),"team"===a.team_mode){let c=t(a.team_name??"");c&&b.add(t(`Team: ${c}`))}return Array.from(b)}(a.registration);if(0===c.length)return l("roles.total",performance.now()-b,"desired_roles=0"),{assignedRoleNames:[],skippedExistingRoleNames:[],skippedHierarchyRoleNames:[],failedRoleNames:[]};let e=performance.now(),f=await p(a.guildId);l("roles.listGuildRoles",performance.now()-e,`guild_roles=${f.length}`);let h=new Map(f.map(a=>[a.id,a])),i=new Map(f.map(a=>[a.name.toLowerCase(),a])),j=performance.now(),k=await o();l("roles.getBotUserId",performance.now()-j);let m=performance.now(),[n,v]=await Promise.all([q(a.guildId,a.discordUserId),q(a.guildId,k)]);l("roles.getGuildMembers",performance.now()-m);let w=new Set(n.roles),x=function(a,b){let c=0;for(let d of a){let a=b.get(d);a&&a.position>c&&(c=a.position)}return c}(v.roles,h),y=[],z=[],A=[],B=[],C=[];for(let a of c){let b=a.toLowerCase();i.get(b)||C.push(a)}let D=performance.now(),E=await Promise.allSettled(C.map(async b=>await r(a.guildId,b)));for(let a of(l("roles.createMissingRoles",performance.now()-D,`attempted=${C.length}`),E.forEach((a,b)=>{let c=C[b];if(!c)return;if("rejected"===a.status){A.push(c),console.error("Failed to create role:",c,a.reason);return}let d=a.value;i.set(d.name.toLowerCase(),d),h.set(d.id,d)}),c)){let b=i.get(a.toLowerCase());if(b){if(w.has(b.id)){y.push(b.name);continue}if(b.position>=x){z.push(b.name);continue}B.push({roleName:b.name,roleId:b.id})}}let F=B.slice(0,Math.max(0,g));for(let a of B.slice(F.length))A.push(a.roleName),console.error("Skipping role assignment due to MAX_ROLE_OPERATIONS cap:",a.roleName);let G=performance.now(),H=await Promise.allSettled(F.map(async({roleName:b,roleId:c})=>(await s(a.guildId,a.discordUserId,c),b)));l("roles.assignRoleCalls",performance.now()-G,`attempted=${F.length} capped_by_max=${Math.max(0,B.length-F.length)}`);let I=[];return H.forEach((a,b)=>{let c=F[b]?.roleName;if(c){if("fulfilled"===a.status)return void I.push(a.value);A.push(c),console.error("Failed to assign role:",c,a.reason)}}),l("roles.total",performance.now()-b,`desired=${c.length} assigned=${I.length} failed=${A.length}`),{assignedRoleNames:I,skippedExistingRoleNames:y,skippedHierarchyRoleNames:z,failedRoleNames:A}}async function w(a){let b=await m(`${e}/webhooks/${a.applicationId}/${a.interactionToken}/messages/@original`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:a.content})});if(!b.ok){let a=await b.text();throw Error(`Failed to edit original interaction response (${b.status}): ${a}`)}}},3721:a=>{a.exports=import("@supabase/supabase-js")},5264:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.r(b),c.d(b,{config:()=>o,default:()=>n,handler:()=>m});var e=c(9046),f=c(8667),g=c(3480),h=c(6435),i=c(6385),j=c(8112),k=c(8766),l=a([i]);i=(l.then?(await l)():l)[0];let n=(0,h.M)(i,"default"),o=(0,h.M)(i,"config"),p=new g.PagesAPIRouteModule({definition:{kind:f.A.PAGES_API,page:"/api/discord/interactions",pathname:"/api/discord/interactions",bundlePath:"",filename:""},userland:i,distDir:".next",relativeProjectDir:""});async function m(a,b,c){let d=await p.prepare(a,b,{srcPage:"/api/discord/interactions"});if(!d){b.statusCode=400,b.end("Bad Request"),null==c.waitUntil||c.waitUntil.call(c,Promise.resolve());return}let{query:f,params:g,prerenderManifest:h,routerServerContext:i}=d;try{let c=a.method||"GET",d=(0,j.getTracer)(),e=d.getActiveScopeSpan(),l=p.instrumentationOnRequestError.bind(p),m=async e=>p.render(a,b,{query:{...f,...g},params:g,allowedRevalidateHeaderKeys:[],multiZoneDraftMode:!1,trustHostHeader:!1,previewProps:h.preview,propagateError:!1,dev:p.isDev,page:"/api/discord/interactions",internalRevalidate:null==i?void 0:i.revalidate,onError:(...b)=>l(a,...b)}).finally(()=>{if(!e)return;e.setAttributes({"http.status_code":b.statusCode,"next.rsc":!1});let f=d.getRootSpanAttributes();if(!f)return;if(f.get("next.span_type")!==k.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${f.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let g=f.get("next.route");if(g){let a=`${c} ${g}`;e.setAttributes({"next.route":g,"http.route":g,"next.span_name":a}),e.updateName(a)}else e.updateName(`${c} ${a.url}`)});e?await m(e):await d.withPropagatedContext(a.headers,()=>d.trace(k.BaseServerSpan.handleRequest,{spanName:`${c} ${a.url}`,kind:j.SpanKind.SERVER,attributes:{"http.method":c,"http.target":a.url}},m))}catch(a){if(p.isDev)throw a;(0,e.sendError)(b,500,"Internal Server Error")}finally{null==c.waitUntil||c.waitUntil.call(c,Promise.resolve())}}d()}catch(a){d(a)}})},5600:a=>{a.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},6385:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.r(b),c.d(b,{config:()=>H,default:()=>G});var e=c(7512),f=c.n(e),g=c(3721),h=c(2205),i=a([g]);g=(i.then?(await i)():i)[0];let H={api:{bodyParser:!1}},I="0"!==process.env.VERIFY_TIMING_LOGS,J=Number(process.env.MAX_TEAMMATE_RESULTS??"10"),K=Number(process.env.TEAMMATE_QUERY_LIMIT??"200");class L extends Error{constructor(a){super(`Missing required env vars: ${a.join(", ")}`),this.name="MissingEnvError",this.missingVars=a}}let M=null,N=null;function j(a){let b=process.env[a];if(!b)return;let c=b.trim();return c.length>0?c:void 0}function k(a){let b=j(a.primaryName);return b||(a.fallbackName?j(a.fallbackName)??null:null)}function l(){if(M)return M;let a={},b=[];for(let c of[{primaryName:"SUPABASE_URL"},{primaryName:"SUPABASE_SERVICE_ROLE_KEY",fallbackName:"SUPABASE_KEY"}]){let d=k(c);if(d){a[c.primaryName]=d;continue}b.push(c.fallbackName?`${c.primaryName} (or legacy fallback ${c.fallbackName})`:c.primaryName)}if(b.length>0)throw new L(b);return M={supabase:(0,g.createClient)(a.SUPABASE_URL,a.SUPABASE_SERVICE_ROLE_KEY,{auth:{persistSession:!1,autoRefreshToken:!1}})}}function m(a){return{type:4,data:{content:a,flags:64}}}async function n(a){let b=[];for await(let c of a)b.push("string"==typeof c?Buffer.from(c):c);return Buffer.concat(b)}function o(a){return a.member?.user??a.user??null}function p(a,b){let c=a.data?.options?.find(a=>a.name===b)?.value;if(!c||"string"!=typeof c)return null;let d=c.trim();return d.length>0?d:null}function q(a){if(Array.isArray(a))return a.map(a=>"string"==typeof a?a.trim():"").filter(a=>a.length>0);if("string"!=typeof a)return[];let b=a.trim();if(!b)return[];if(b.startsWith("[")&&b.endsWith("]"))try{let a=JSON.parse(b);if(Array.isArray(a))return a.map(a=>"string"==typeof a?a.trim():"").filter(a=>a.length>0)}catch{}return b.split(",").map(a=>a.trim()).filter(a=>a.length>0)}function r(a){return a.trim().toLowerCase()}function s(a){let b=a.first_name?.trim()??"",c=a.last_name?.trim()??"";return`${b} ${c}`.trim()||"Unknown"}function t(a,b){return a.length<=b?a:`${a.slice(0,Math.max(0,b-3))}...`}async function u(a,b){await (0,h.z)({applicationId:a.application_id,interactionToken:a.token,content:b})}let O="email, first_name, last_name, discord_user_id, fields_of_study, interests, level_of_study, school, school_other, team_mode, team_name";async function v(a){let b=l().supabase,{data:c,error:d}=await b.from("registrations").select(O).eq("discord_user_id",a).maybeSingle();if(d)throw d;return c??null}async function w(a){let b=l().supabase,c=a.replace(/[%_\\]/g,"\\$&"),{data:d,error:e}=await b.from("registrations").select(O).ilike("email",c).limit(2);if(e)throw e;if(!d||0===d.length)return null;if(d.length>1)throw Error("Multiple registrations matched this email; expected a single row.");return d[0]}async function x(a){let b=l().supabase,{data:c,error:d}=await b.from("registrations").select("first_name, last_name, school, level_of_study, interests, fields_of_study, discord_user_id, team_mode").not("discord_user_id","is","null").neq("discord_user_id",a).limit(Math.max(1,K));if(d)throw d;return(c??[]).filter(a=>!!a.discord_user_id&&function(a){if(!a)return!1;let b=r(a).replace(/[_-]+/g," ");return"free agent"===b||"looking for a team"===b||"looking for team"===b}(a.team_mode))}async function y(a,b){let c=l().supabase,d=function(a){let b=p(a,"email");return b?b.toLowerCase():null}(b);if(!d){let b=await v(a.id);return b?{ok:!0,registration:b}:{ok:!1,message:"I couldn't automatically verify your Discord account. Please run /verify email:<your registration email>."}}let e=await w(d);if(!e)return{ok:!1,message:"‚ùå Could not verify registration for that email. If you already registered, contact staff. Otherwise register at mcgillaerohacks.com."};if(e.discord_user_id&&e.discord_user_id!==a.id)return{ok:!1,message:"‚ùå That registration is already linked to a different Discord account. Contact staff for help."};let{data:f,error:g}=await c.from("registrations").update({discord_user_id:a.id,discord_username:a.username??null,discord_verified_at:new Date().toISOString()}).eq("email",e.email).select(O).single();if(g){if("23505"===g.code)return{ok:!1,message:"‚ùå This Discord account is already linked to a registration. Contact staff if this is a mistake."};throw g}return{ok:!0,registration:f}}function z(a,b,c){if(!I)return;let d=c?` ${c}`:"";console.info(`[verify-timing] ${a}: ${b.toFixed(1)}ms${d}`)}async function A(a){let b=performance.now(),c=o(a);if(!c?.id)return void await u(a,"Could not read your Discord account information.");try{let e=performance.now(),f=await y(c,a);if(z("verifyRegistration",performance.now()-e,`interaction_id=${a.id}`),!f.ok){let c=performance.now();await u(a,f.message),z("editOriginalInteractionResponse",performance.now()-c,"result=failure_message"),z("processVerifyInteraction.total",performance.now()-b,"result=failed_verification");return}let g=null;if(a.guild_id){var d;let b=performance.now();g=await (0,h.S)({guildId:a.guild_id,discordUserId:c.id,registration:(d=f.registration,{fields_of_study:q(d.fields_of_study),interests:q(d.interests),level_of_study:d.level_of_study,school:d.school,school_other:d.school_other,team_mode:d.team_mode,team_name:d.team_name})}),z("assignRolesFromRegistration",performance.now()-b,`guild_id=${a.guild_id}`)}let i=performance.now();await u(a,function(a,b,c){let d=[`‚úÖ Verified: ${a.first_name} ${a.last_name}`];return c?(d.push("We've assigned roles based on your program, interests, school, and team status."),b&&(b.assignedRoleNames.length>0?d.push(`Assigned: ${b.assignedRoleNames.join(", ")}`):d.push("No new roles were needed."),b.failedRoleNames.length>0&&d.push("Some roles could not be assigned right now. Please contact staff if this persists."))):d.push("You're verified, but role assignment only works in a server channel."),d.join("\n")}(f.registration,g,a.guild_id)),z("editOriginalInteractionResponse",performance.now()-i,"result=success_message"),z("processVerifyInteraction.total",performance.now()-b,"result=success")}catch(c){console.error("verify command error",c);try{let b=performance.now();await u(a,"An internal error occurred. Please try again later."),z("editOriginalInteractionResponse",performance.now()-b,"result=internal_error")}catch(a){console.error("Failed to send error follow-up:",a)}z("processVerifyInteraction.total",performance.now()-b,"result=exception")}}async function B(a){let b=o(a);if(!b?.id)return void await u(a,"Could not read your Discord account information.");try{let c=await v(b.id);if(!c)return void await u(a,"‚ùå You are not verified yet. Use /verify email:<your registration email>.");await u(a,function(a){let b=["‚úÖ Your verification status",`Name: ${s(a)}`,`Email: ${a.email??"N/A"}`,`School: ${a.school??a.school_other??"N/A"}`,`Level: ${a.level_of_study??"N/A"}`,`Team mode: ${a.team_mode??"N/A"}`];return a.team_name&&b.push(`Team name: ${a.team_name}`),b.join("\n")}(c))}catch(b){console.error("status command error",b),await u(a,"An internal error occurred while checking your status.")}}async function C(a){let b=o(a);if(!b?.id)return void await u(a,"Could not read your Discord account information.");try{let c=await v(b.id);if(!c)return void await u(a,"‚ùå You need to verify first using /verify email:<your registration email>.");let d=p(a,"interest"),e=d?r(d):null,f=new Set(q(c.interests).map(r)),g=new Set(q(c.fields_of_study).map(r)),h=await x(b.id),i=[];for(let a of h){let b=q(a.interests),c=q(a.fields_of_study);if(e&&!`${b.join(" ")} ${c.join(" ")}`.toLowerCase().includes(e))continue;let d=b.filter(a=>f.has(r(a))),h=c.filter(a=>g.has(r(a))),j=2*d.length+3*h.length;i.push({score:j,candidate:a,matchedInterests:d,matchedFields:h})}if(i.sort((a,b)=>{if(b.score!==a.score)return b.score-a.score;let c=s(a.candidate).toLowerCase(),d=s(b.candidate).toLowerCase();return c.localeCompare(d)}),0===i.length)return void(d?await u(a,`üòî No teammates found matching "${d}". Try a broader filter.`):await u(a,"\uD83D\uDE14 No one else is currently marked as looking for a team."));await u(a,function(a,b){let c=["\uD83D\uDD0D Potential teammates",""];b&&c.push(`Filter: ${b}`,"");let d=0,e=a.slice(0,Math.max(1,J));for(let a=0;a<e.length;a+=1){let b=e[a];if(!b)continue;let f=b.candidate,g=f.discord_user_id?` <@${f.discord_user_id}>`:"",h=s(f),i=f.school??"N/A",j=f.level_of_study??"N/A",k=[];b.matchedInterests.length>0&&k.push(`Interests: ${b.matchedInterests.slice(0,2).map(a=>t(a,30)).join(", ")}`),b.matchedFields.length>0&&k.push(`Fields: ${b.matchedFields.slice(0,2).map(a=>t(a,30)).join(", ")}`);let l=[`${d+1}. ${h}${g} (score ${b.score})`,`   School: ${t(i,60)}`,`   Level: ${t(j,60)}`,k.length>0?`   Match: ${k.join(" | ")}`:null,null].filter(a=>!!a).join("\n");if([...c,l].join("\n").length>1850)break;c.push(l),d+=1}return d<a.length&&c.push(`Showing ${d} of ${a.length} matches. Refine with interest:<keyword> for a narrower list.`),c.push("","\uD83D\uDCA1 Reach out in Discord DMs or server channels to form a team."),c.join("\n")}(i,d))}catch(b){console.error("find_teammates command error",b),await u(a,"An internal error occurred while finding teammates.")}}function D(){return"\uD83E\uDD16 AeroHacks Bot Commands\n\n/verify email:<your registration email> - Verify and link your Discord account.\n/status - Show your current verification details.\n/find_teammates [interest] - Find participants marked as looking for a team.\n/help - Show this message.\n\nIf verification fails, contact staff with your registration email."}async function E(a){try{await u(a,D())}catch(a){console.error("help command error",a)}}async function F(a){let b=a.data?.name;return"verify"===b?void await A(a):"status"===b?void await B(a):"find_teammates"===b?void await C(a):"help"===b?void await E(a):void await u(a,"Unsupported command.")}async function G(a,b){let c,d;if("POST"!==a.method)return void b.status(405).json({error:"Method Not Allowed"});try{c=function(){if(N)return N;let a=k({primaryName:"DISCORD_PUBLIC_KEY",fallbackName:"PUBLIC_KEY"});if(!a)throw new L(["DISCORD_PUBLIC_KEY (or legacy fallback PUBLIC_KEY)"]);return N=a}()}catch(a){if(a instanceof L){console.error(`[config] Missing required env vars: ${a.missingVars.join(", ")}`),b.status(500).json({error:"Server misconfiguration: missing required environment variables."});return}console.error("[config] Failed to initialize runtime configuration",a),b.status(500).json({error:"Server misconfiguration."});return}let e=a.headers["x-signature-ed25519"],g=a.headers["x-signature-timestamp"];if("string"!=typeof e||"string"!=typeof g){console.warn("[signature] Missing Discord signature headers."),b.status(401).send("Invalid signature");return}let h=await n(a);if(!function(a,b,c,d){try{let e=Buffer.concat([Buffer.from(c,"utf8"),a]),g=Buffer.from(b,"hex"),h=Buffer.from(d,"hex");return f().sign.detached.verify(e,g,h)}catch{return!1}}(h,e,g,c)){console.warn("[signature] Discord signature verification failed."),b.status(401).send("Invalid signature");return}try{d=JSON.parse(h.toString("utf8"))}catch{b.status(400).json({error:"Invalid JSON body"});return}if(1===d.type)return void b.status(200).json({type:1});if(2!==d.type)return void b.status(200).json(m("Unsupported interaction type."));let i=d.data?.name;if(console.info(`[interaction] command=${i??"unknown"} interaction_id=${d.id}`),"help"===i)return void b.status(200).json(m(D()));if("verify"!==i&&"status"!==i&&"find_teammates"!==i&&"help"!==i)return void b.status(200).json(m("Unsupported command."));if("verify"===i||"status"===i||"find_teammates"===i)try{l()}catch(a){if(a instanceof L){console.error(`[config] Missing required env vars: ${a.missingVars.join(", ")}`),b.status(200).json(m("Server misconfiguration: missing required environment variables. Contact staff."));return}console.error("[config] Failed to initialize runtime configuration",a),b.status(200).json(m("Server misconfiguration. Please contact staff."));return}b.status(200).json({type:5,data:{flags:64}});try{await F(d)}catch(a){console.error(`[interaction] command processing failed: ${i??"unknown"}`,a)}}d()}catch(a){d(a)}})},7512:a=>{a.exports=require("tweetnacl")}};var b=require("../../../webpack-api-runtime.js");b.C(a);var c=b.X(0,[169],()=>b(b.s=5264));module.exports=c})();